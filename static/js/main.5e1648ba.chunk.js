(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5445:function(t,n,e){t.exports=e(5663)},5663:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e.n(c),a=e(29),i=e.n(a),o=e(24),u=e(7),b=e(2),s=e(25),l=e(5668),O=e(88),d=e.n(O),j=e(89),f=e.n(j),m=e(8),p=e(38),h=e.n(p),v=e(144),g=e.n(v),w=e(58),E=e.n(w);function k(){var t=Object(u.a)(["\n      color: ",";\n    "]);return k=function(){return t},t}function x(){var t=Object(u.a)([""]);return x=function(){return t},t}function y(){var t=Object(u.a)(["\n    ",";\n    ","\n  "]);return y=function(){return t},t}function C(){var t=Object(u.a)(["\n  padding: 7px 0;\n"]);return C=function(){return t},t}function S(){var t=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  margin: auto 4% auto 0;\n"]);return S=function(){return t},t}var N="#FF8b60",T="#9494FF",V=Object(b.b)(S()),_=Object(b.b)(C()),R={UPVOTE:1,NO_VOTE:0,DOWNVOTE:-1};var B=function(t){var n=Object(c.useState)(R.NO_VOTE),e=Object(o.a)(n,2),r=e[0],a=e[1],i=function(t){return function(){a(t===r?R.NO_VOTE:t)}},u=function(t){switch(t){case R.UPVOTE:return N;case R.DOWNVOTE:return T;default:return"inherit"}}(r),s=function(t){return Object(b.b)(y(),_,r===t&&"color: ".concat(u,";"))},l=s(R.UPVOTE),O=s(R.DOWNVOTE),d=r===R.NO_VOTE?Object(b.b)(x()):Object(b.b)(k(),u);return Object(b.c)("div",{css:V},Object(b.c)(m.e,{css:l,"aria-label":"Upvote",onClick:i(R.UPVOTE)},Object(b.c)(E.a,null)),Object(b.c)(m.k,{variant:"h5",css:d},t.votes+r),Object(b.c)(m.e,{css:O,"aria-label":"Downvote",onClick:i(R.DOWNVOTE)},Object(b.c)(h.a,null)))},I=e(146),L=e.n(I);function W(){var t=Object(u.a)(["\n  margin-bottom: 1em;\n"]);return W=function(){return t},t}function D(){var t=Object(u.a)(["\n  margin: auto 0;\n  h4 {\n    font-size: 12pt;\n  }\n"]);return D=function(){return t},t}var F=Object(b.b)(D()),P=Object(b.b)(W());var U=function(t){var n=t.post,e="https://www.reddit.com".concat(n.permalink);return Object(b.c)("div",{css:F},Object(b.c)(m.k,{variant:"h5",css:P},Object(b.c)("a",{href:e,target:"_blank",rel:"noopener noreferrer"},L.a.decode(n.title))),Object(b.c)("div",null,Object(b.c)(m.k,{variant:"h4"},n.subreddit_name_prefixed)))};function M(){var t=Object(u.a)(["\n  margin: auto 4% auto 0;\n  width: auto;\n  max-height: 7em;\n  padding: 1em 0;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return M=function(){return t},t}var z=Object(b.b)(M());var G=function(t){return Object(b.c)("img",Object.assign({alt:"thumbnail",css:z},t))};function J(){var t=Object(u.a)(["\n  max-height: 30em;\n"]);return J=function(){return t},t}var H=Object(b.b)(J());var q=function(t){var n=t.src;return Object(b.c)("video",{muted:!0,loop:!0,poster:!0,autoPlay:!0,controls:!0,css:H},Object(b.c)("source",{src:n}))};function A(){var t=Object(u.a)(["\n  padding: 1em 2em;\n"]);return A=function(){return t},t}function K(){var t=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n"]);return K=function(){return t},t}function Q(){var t=Object(u.a)(["\n  height: fit-content;\n  margin: auto 0 auto auto;\n"]);return Q=function(){return t},t}function X(){var t=Object(u.a)(["\n  max-height: 30em;\n  margin: auto 0;\n  display: block;\n"]);return X=function(){return t},t}function Y(){var t=Object(u.a)(["\n  display: flex;\n  padding: 0.5em 3%;\n"]);return Y=function(){return t},t}function Z(){var t=Object(u.a)(["\n  min-width: 275px;\n  margin: 1em auto;\n"]);return Z=function(){return t},t}function $(){var t=Object(u.a)(["\n  h5 {\n    font-size: 13pt;\n  }\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return $=function(){return t},t}var tt=Object(b.b)($()),nt=Object(b.b)(Z()),et=Object(b.b)(Y()),ct=Object(b.b)(X()),rt=Object(b.b)(Q()),at=Object(b.b)(K()),it=Object(b.b)(A());var ot=function(t){var n=t.post,e=Object(c.useState)(!1),r=Object(o.a)(e,2),a=r[0],i=r[1],u=function(){return i(!a)},s=n.thumbnail.startsWith("http"),l=n.url.split("?")[0],O=[".jpg",".gif",".png"].some(function(t){return l.endsWith(t)}),d=n.selftext&&n.selftext.length>0,j=n.media&&n.media.reddit_video&&n.media.reddit_video.fallback_url,f=O||d||j;return Object(b.c)(m.d,{in:!0,css:tt,timeout:800},Object(b.c)(m.a,{css:nt},Object(b.c)("div",{css:et},Object(b.c)(B,{votes:n.ups}),s&&Object(b.c)(G,{src:n.thumbnail,height:n.thumbnail_height,onClick:u}),Object(b.c)(U,{post:n}),f&&Object(b.c)(m.e,{css:rt,onClick:u,"aria-expanded":a},Object(b.c)(h.a,null))),Object(b.c)(m.c,{in:a,timeout:"auto",unmountOnExit:!0,css:at},O&&Object(b.c)("img",{src:n.url,alt:"source",css:ct}),j&&Object(b.c)(q,{src:n.media.reddit_video.fallback_url}),Object(b.c)("div",{css:it},d&&Object(b.c)(m.k,{variant:"h5"},Object(b.c)(g.a,{source:n.selftext}))))))},ut="https://www.reddit.com";function bt(){var t=Object(u.a)(["\n  ",";\n  width: 8em !important;\n  height: 8em !important;\n  margin-top: 3em;\n"]);return bt=function(){return t},t}function st(){var t=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n"]);return st=function(){return t},t}function lt(){var t=Object(u.a)(["\n  margin: 2em 7%;\n"]);return lt=function(){return t},t}var Ot=Object(b.b)(lt()),dt=Object(b.b)(st()),jt=Object(b.b)(bt(),dt),ft=function(t){return Object(b.c)(m.k,{variant:"h3",gutterBottom:!0},"Error Occured: ",t.error.message)};var mt=Object(c.memo)(function(t){var n=Object(c.useState)(null),e=Object(o.a)(n,2),r=e[0],a=e[1],i=Object(c.useState)(!1),u=Object(o.a)(i,2),s=u[0],l=u[1],O=Object(c.useState)(null),d=Object(o.a)(O,2),j=d[0],p=d[1],h=Object(c.useState)(null),v=Object(o.a)(h,2),g=v[0],w=v[1],E=Object(c.useState)(!1),k=Object(o.a)(E,2),x=k[0],y=k[1],C="".concat(ut,"/r/").concat(t.subreddit,"/").concat("top",".json"),S=function(t){return t.data.data.children.map(function(t){return t.data})};return Object(c.useEffect)(function(){l(!0),f.a.get(C).then(function(t){var n=S(t);l(!1),p(t.data.data),w(null),a(n)}).catch(function(t){l(!1),w(t),a(null)})},[t.subreddit,C]),Object(c.useEffect)(function(){if(x&&!s&&j.after){var t=j.after;f.a.get(C+"?after="+t).then(function(t){var n=S(t);a(function(t){return t&&t.concat(n)}),p(t.data.data),y(!1)}).catch(function(){y(!1)})}else y(!1)},[x,j,s,C]),Object(c.useEffect)(function(){function t(){var t=document.getElementById("root");!x&&t.getBoundingClientRect().bottom<=window.innerHeight&&y(!0)}return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}},[x]),Object(b.c)("div",{css:Ot},Object(b.c)(m.k,{variant:"h2",gutterBottom:!0},"/r/".concat(t.subreddit)),s&&Object(b.c)(m.b,{css:jt}),r&&r.map(function(t){return Object(b.c)(ot,{post:t,key:t.id})}),g&&Object(b.c)(ft,{error:g}),x&&Object(b.c)(m.b,{css:dt}))}),pt=e(65),ht=e(59),vt=e.n(ht),gt=e(60),wt=e.n(gt),Et=e(57),kt=e.n(Et),xt=e(46),yt=e.n(xt),Ct=e(63),St=e.n(Ct),Nt=e(47),Tt=e(61),Vt=e.n(Tt),_t=e(62),Rt=e.n(_t);var Bt=Object(s.withStyles)(function(t){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(pt.a)({display:"none"},t.breakpoints.up("sm"),{display:"block"}),search:Object(pt.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Nt.fade)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(Nt.fade)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing.unit,width:"auto"}),searchIcon:{width:9*t.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(pt.a)({paddingTop:t.spacing.unit,paddingRight:t.spacing.unit,paddingBottom:t.spacing.unit,paddingLeft:10*t.spacing.unit,transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(t){var n=t.classes;return r.a.createElement("div",{className:n.root},r.a.createElement(vt.a,{position:"fixed"},r.a.createElement(wt.a,null,r.a.createElement(kt.a,{onClick:t.onMenuClick,className:n.menuButton,color:"inherit","aria-label":"Open drawer"},r.a.createElement(Vt.a,null)),r.a.createElement(yt.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"React Reddit Client"),r.a.createElement("div",{className:n.grow}),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(Rt.a,null)),r.a.createElement(St.a,{placeholder:"Go to subreddit",classes:{root:n.inputRoot,input:n.inputInput},onChange:t.onSubredditChange})))))}),It=e(90);function Lt(){var t=Object(u.a)(["\n  width: 250px;\n"]);return Lt=function(){return t},t}var Wt=Object(b.b)(Lt());var Dt=function(t){var n=t.open,e=t.onClose,c=t.onSelection;return Object(b.c)(m.j,{open:n,onClose:e},Object(b.c)("div",{css:Wt},Object(b.c)(m.f,null,Object(b.c)(m.g,{button:!0,onClick:function(){return c("light")}},Object(b.c)(m.h,null,Object(b.c)(It.a,null)),Object(b.c)(m.i,{primary:"Light theme"})),Object(b.c)(m.g,{button:!0,onClick:function(){return c("dark")}},Object(b.c)(m.h,null,Object(b.c)(It.b,null)),Object(b.c)(m.i,{primary:"Dark theme"})))))};var Ft=function(t){var n=t.onSubredditChange,e=t.onSelection,a=Object(c.useState)(!1),i=Object(o.a)(a,2),u=i[0],b=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{onSubredditChange:n,onMenuClick:function(){return b(!0)}}),r.a.createElement(Dt,{open:u,onSelection:function(t){b(!1),e(t)},onClose:function(){return b(!1)}}))};function Pt(){var t=Object(u.a)(["\n    body {\n      margin: 0;\n      background: ",";\n    }\n  "]);return Pt=function(){return t},t}function Ut(){var t=Object(u.a)(["\n  margin-top: 5em;\n"]);return Ut=function(){return t},t}var Mt=Object(b.b)(Ut()),zt="#181a1b";var Gt=function(){var t=Object(c.useState)("all"),n=Object(o.a)(t,2),e=n[0],r=n[1],a=Object(c.useState)("light"),i=Object(o.a)(a,2),u=i[0],O=i[1],j=Object(s.createMuiTheme)({palette:{primary:{main:d.a[800]},type:u},typography:{useNextVariants:!0}}),f="dark"===u?zt:"inherit",m=Object(b.b)(Pt(),f);return Object(b.c)(l.a,{injectFirst:!0},Object(b.c)(s.MuiThemeProvider,{theme:j},Object(b.c)(b.a,{styles:m}),Object(b.c)(Ft,{onSubredditChange:function(t){r(t.target.value)},onSelection:O}),Object(b.c)("div",{css:Mt},Object(b.c)(mt,{subreddit:e}))))};i.a.render(r.a.createElement(Gt,null),document.getElementById("root"))}},[[5445,1,2]]]);
//# sourceMappingURL=main.5e1648ba.chunk.js.map