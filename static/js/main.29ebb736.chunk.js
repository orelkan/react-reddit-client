(window["webpackJsonpreact-reddit-client"]=window["webpackJsonpreact-reddit-client"]||[]).push([[0],{5451:function(e,t,n){e.exports=n(5685)},5685:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),o=n.n(a),i=n(13),u=n(10),l=n(2),b=n(23),s=n(5690),d=n(71),O=n.n(d),j=n(105),m=n.n(j),f=n(170),h=n(7),p=n(44),v=n.n(p),g=n(45),w=n.n(g),y=n(65),x=n.n(y);function E(){var e=Object(u.a)(["\n      color: ",";\n    "]);return E=function(){return e},e}function k(){var e=Object(u.a)([""]);return k=function(){return e},e}function S(){var e=Object(u.a)(["\n    ",";\n    ","\n  "]);return S=function(){return e},e}function C(){var e=Object(u.a)(["\n  padding: 7px 0;\n  width: 40px;\n"]);return C=function(){return e},e}function T(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  margin: auto 4% auto 0;\n"]);return T=function(){return e},e}var R="#FF8b60",N="#9494FF",_=Object(l.b)(T()),I=Object(l.b)(C()),D={UPVOTE:1,NO_VOTE:0,DOWNVOTE:-1};var V=function(e){var t,n=Object(r.useState)(D.NO_VOTE),c=Object(i.a)(n,2),a=c[0],o=c[1],u=function(e){return function(){o(e===a?D.NO_VOTE:e)}},b=function(e){switch(e){case D.UPVOTE:return R;case D.DOWNVOTE:return N;default:return"inherit"}}(a),s=function(e){return Object(l.b)(S(),I,a===e&&"color: ".concat(b,";"))},d=s(D.UPVOTE),O=s(D.DOWNVOTE),j=a===D.NO_VOTE?Object(l.b)(k()):Object(l.b)(E(),b);return Object(l.c)("div",{css:_},Object(l.c)(h.n,{css:d,"aria-label":"Upvote",onClick:u(D.UPVOTE)},Object(l.c)(x.a,null)),Object(l.c)(h.y,{variant:"h5",css:j},(t=e.votes+a)>999?(t/1e3).toFixed(1)+"k":t),Object(l.c)(h.n,{css:O,"aria-label":"Downvote",onClick:u(D.DOWNVOTE)},Object(l.c)(v.a,null)))};function B(){var e=Object(u.a)(["\n  margin-bottom: 1em;\n"]);return B=function(){return e},e}function M(){var e=Object(u.a)(["\n  margin: auto 0;\n  h4 {\n    font-size: 12pt;\n  }\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return M=function(){return e},e}var P=Object(l.b)(M()),W=Object(l.b)(B());var Y=Object(r.memo)((function(e){var t=e.post,n="https://www.reddit.com".concat(t.permalink);return Object(l.c)("div",{css:P},Object(l.c)(h.y,{variant:"h5",css:W},Object(l.c)("a",{href:n,target:"_blank",rel:"noopener noreferrer"},w.a.decode(t.title))),Object(l.c)("div",null,Object(l.c)(h.y,{variant:"h4"},t.subreddit_name_prefixed)))}));function L(){var e=Object(u.a)(["\n  margin: auto 4% auto 0;\n  width: auto;\n  max-height: 7em;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  @media only screen and (max-width: 768px) {\n    max-width: 25%;\n    height: auto;\n    align-self: center;\n  }\n"]);return L=function(){return e},e}var F=Object(l.b)(L());var H=function(e){return Object(l.c)("img",Object.assign({alt:"thumbnail",css:F},e))},U=localStorage.getItem("autoExpand"),q=U&&JSON.parse(U)||!1,z=c.a.createContext(q);function A(e){var t=e.children,n=Object(r.useState)(q),a=Object(i.a)(n,2),o=[a[0],a[1]];return c.a.createElement(z.Provider,{value:o},t)}function G(){var e=Object(r.useContext)(z),t=Object(i.a)(e,2),n=t[0],c=t[1];return[n,function(e){e!==n&&(localStorage.setItem("autoExpand",e),c(e))}]}var J=n(172),K=n.n(J);function X(){var e=Object(u.a)(["\n  max-height: 30em;\n  max-width: 100%;\n"]);return X=function(){return e},e}var Q=Object(l.b)(X());var Z=Object(r.memo)((function(e){var t=e.src;return Object(l.c)("video",{muted:!0,loop:!0,autoPlay:!0,controls:!0,css:Q},Object(l.c)("source",{src:t}))})),$=n(46),ee=function(e,t){return[-(t-window.innerHeight/2)/20,(e-window.innerWidth/2)/20,1.25]},te=function(e,t,n){return"perspective(1200px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(n,")")};var ne=Object(r.memo)((function(e){var t=Object($.b)((function(){return{xys:[0,0,1],config:{mass:3,tension:400,friction:40}}})),n=Object(i.a)(t,2),r=n[0],a=n[1];return c.a.createElement($.a.div,{onMouseMove:function(e){var t=e.clientX,n=e.clientY;return a({xys:ee(t,n)})},onMouseLeave:function(){return a({xys:[0,0,1]})},style:{transform:r.xys.interpolate(te)}},e.children)})),re=n(173);var ce=function(e){var t=e.isOpen,n=e.children,a=function(){var e=Object(r.useRef)(),t=Object(r.useState)({left:0,top:0,width:0,height:0}),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)((function(){return new re.a((function(e){var t=Object(i.a)(e,1)[0];return a(t.contentRect)}))})),u=Object(i.a)(o,1)[0];return Object(r.useEffect)((function(){return e.current&&u.observe(e.current),function(){return u.disconnect()}}),[u]),[{ref:e},c]}(),o=Object(i.a)(a,2),u=o[0],l=o[1].height,b=Object($.b)({height:t?l:0,from:{height:t?0:l}});return c.a.createElement($.a.div,{style:b},c.a.createElement("div",u,n))};function ae(){var e=Object(u.a)(["\n  max-width: 100%;\n  display: flex;\n"]);return ae=function(){return e},e}function oe(){var e=Object(u.a)(["\n  overflow: auto;\n  @media only screen and (max-width: 768px) {\n    max-width: 85%;\n    margin: 0 auto;\n  }\n  p {\n    margin-top: 0;\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(u.a)(["\n  max-height: 70vh;\n  max-width: 100%;\n  margin: auto 0;\n  display: block;\n"]);return ie=function(){return e},e}function ue(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 0 2em 1em 2em;\n  @media only screen and (max-width: 768px) {\n    padding: 5%;\n    padding-top: 0;\n  }\n"]);return ue=function(){return e},e}var le=Object(l.b)(ue()),be=Object(l.b)(ie()),se=Object(l.b)(oe()),de=Object(l.b)(ae());var Oe=function(e){var t=e.post,n=e.expanded,r=e.hasImage,c=e.hasVideo,a=e.hasEmbed,o=e.hasText,i=e.htmlEmbed;return Object(l.c)(ce,{isOpen:n},Object(l.c)("div",{css:le},c?Object(l.c)(Z,{src:t.media.reddit_video.fallback_url}):a?Object(l.c)("div",{css:de,dangerouslySetInnerHTML:{__html:i}}):r?Object(l.c)(ne,null,Object(l.c)("img",{src:t.url,alt:"source",css:be})):o?Object(l.c)(h.y,{variant:"h5",css:se},Object(l.c)(K.a,{source:w.a.decode(t.selftext)})):null))};function je(){var e=Object(u.a)(["\n    transform: rotate(","deg);\n  "]);return je=function(){return e},e}function me(){var e=Object(u.a)(["\n  height: fit-content;\n  margin: auto 0 auto auto;\n  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n"]);return me=function(){return e},e}function fe(){var e=Object(u.a)(["\n  display: flex;\n  padding: 1em 3%;\n"]);return fe=function(){return e},e}function he(){var e=Object(u.a)(["\n  min-width: 275px;\n  margin: 1em auto;\n  h5 {\n    font-size: 13pt;\n  }\n"]);return he=function(){return e},e}var pe=Object(l.b)(he()),ve=Object(l.b)(fe()),ge=Object(l.b)(me());function we(e){var t=e.post,n=(e.width,e.growIn),c=void 0===n||n,a=G(),o=Object(i.a)(a,1)[0],u=Object(r.useState)(o),b=Object(i.a)(u,2),s=b[0],d=b[1],O=s?180:0,j=Object(l.b)(je(),O),m=function(){return d(!s)};Object(r.useEffect)((function(){d(o)}),[o]);var f=Boolean(t.thumbnail.startsWith("http")),p=t.url.split("?")[0],g=Boolean([".jpg",".jpeg",".gif",".png"].some((function(e){return p.endsWith(e)}))),y=Boolean(t.selftext&&t.selftext.length>0),x=Boolean(t.media&&t.media.reddit_video&&t.media.reddit_video.fallback_url),E=Boolean(t.media_embed&&t.media_embed.content),k=g||y||x||E,S=Object(r.useMemo)((function(){return E&&w.a.decode(t.media_embed.content)}),[E,t]);return Object(l.c)(h.m,{in:c,timeout:500},Object(l.c)(h.b,{css:pe},Object(l.c)("div",{css:ve},Object(l.c)(V,{votes:t.ups}),f&&Object(l.c)(H,{src:t.thumbnail,height:t.thumbnail_height,onClick:m}),Object(l.c)(Y,{post:t}),k&&Object(l.c)(h.n,{css:[ge,j],onClick:m,"aria-expanded":s},Object(l.c)(v.a,null))),k&&Object(l.c)(Oe,{post:t,expanded:s,htmlEmbed:S,hasEmbed:E,hasImage:g,hasText:y,hasVideo:x})))}we.whyDidYouRender=!0;var ye=Object(r.memo)(we);function xe(e){var t=e.posts,n=e.loadingPosts;return t&&t.map((function(e){return Object(l.c)(ye,{post:e,key:e.id,growIn:!n})}))}xe.whyDidYouRender=!0;var Ee=Object(r.memo)(xe),ke="https://www.reddit.com",Se=[{label:"Hot",value:"hot"},{label:"Top Hour",value:"top hour"},{label:"Top Day",value:"top day"},{label:"Top Week",value:"top week"},{label:"Top Month",value:"top month"},{label:"Top All Time",value:"top all"},{label:"New",value:"new"},{label:"Best",value:"best"},{label:"Controversial",value:"controversial"}],Ce="https://github.com/orelkan/react-reddit-client";function Te(){var e=Object(u.a)(["\n  overflow-wrap: break-word;\n"]);return Te=function(){return e},e}function Re(){var e=Object(u.a)(["\n  @media only screen and (max-width: 768px) {\n    padding-bottom: 1em;\n  }\n"]);return Re=function(){return e},e}function Ne(){var e=Object(u.a)(["\n  min-width: 120px;\n"]);return Ne=function(){return e},e}var _e=Object(l.b)(Ne()),Ie=Object(l.b)(Re()),De=Object(l.b)(Te());function Ve(e){var t=e.subreddit,n=e.filter,r=e.onSelection;return Object(l.c)(h.l,{container:!0,justify:"space-between"},Object(l.c)(h.l,{item:!0,xs:12,sm:6,md:6,lg:6,css:Ie},Object(l.c)(h.y,{variant:"h2",css:De},"/r/".concat(t))),Object(l.c)(h.l,{item:!0},Object(l.c)(h.j,{variant:"outlined",css:_e},Object(l.c)(h.o,null,"Order"),Object(l.c)(h.v,{value:n,onChange:function(e){return r(e.target.value)},input:Object(l.c)(h.u,{labelWidth:43})},Se.map((function(e){var t=e.label,n=e.value;return Object(l.c)(h.t,{key:n,value:n},t)}))))))}Ve.whyDidYouRender=!0;var Be=Object(r.memo)(Ve);function Me(){var e=Object(u.a)(["\n  ",";\n  width: 8em !important;\n  height: 8em !important;\n  margin-top: 3em;\n"]);return Me=function(){return e},e}function Pe(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n"]);return Pe=function(){return e},e}function We(){var e=Object(u.a)(["\n  margin: 2em 7%;\n  @media only screen and (max-width: 768px) {\n    margin: 2em 4%;\n  }\n"]);return We=function(){return e},e}var Ye=Object(l.b)(We()),Le=Object(l.b)(Pe()),Fe=Object(l.b)(Me(),Le),He=function(e){var t=e.error;return Object(l.c)(h.y,{variant:"h3",gutterBottom:!0},t.response?"No such Subreddit":"Network Error")},Ue="hot";function qe(e){var t=Object(r.useState)(null),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),b=u[0],s=u[1],d=Object(r.useState)(null),O=Object(i.a)(d,2),j=O[0],p=O[1],v=Object(r.useState)(null),g=Object(i.a)(v,2),w=g[0],y=g[1],x=Object(r.useState)(!1),E=Object(i.a)(x,2),k=E[0],S=E[1],C=Object(r.useState)(Ue),T=Object(i.a)(C,2),R=T[0],N=T[1],_=R.split(" "),I=Object(i.a)(_,2),D=I[0],V=I[1],B="".concat(ke,"/r/").concat(e.subreddit,"/").concat(D,".json")+(V?"?t=".concat(V):""),M=function(e){return e.data.data.children.map((function(e){return e.data}))},P=function(e){return a(Object(f.uniqBy)(e,"id"))};return Object(r.useEffect)((function(){s(!0),m.a.get(B).then((function(e){var t=M(e);s(!1),p(e.data.data),y(null),P(t)})).catch((function(e){s(!1),y(e),a(null)}))}),[e.subreddit,B]),Object(r.useEffect)((function(){if(k&&!b&&j.after){var e=j.after;m.a.get(B+"?after="+e).then((function(e){var t=M(e);P(c&&c.concat(t)),p(e.data.data),S(!1)})).catch((function(){S(!1)}))}else S(!1)}),[k,j,b,B,c]),Object(r.useEffect)((function(){function e(){var e=document.getElementById("root");!k&&e.getBoundingClientRect().bottom<=window.innerHeight&&S(!0)}return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[k]),Object(l.c)("div",{css:Ye},Object(l.c)(Be,{subreddit:e.subreddit,filter:R,onSelection:N}),b&&Object(l.c)(h.c,{css:Fe}),Object(l.c)(Ee,{posts:c,loadingPosts:b}),w&&!b&&Object(l.c)(He,{error:w}),k&&Object(l.c)(h.c,{css:Le}))}qe.whyDidYouRender=!0;var ze=Object(r.memo)(qe),Ae=n(28),Ge=n(66),Je=n.n(Ge),Ke=n(67),Xe=n.n(Ke),Qe=n(52),Ze=n.n(Qe),$e=n(30),et=n.n($e),tt=n(43),nt=n.n(tt),rt=n(36),ct=n(68),at=n.n(ct),ot=n(69),it=n.n(ot);function ut(e){var t=e.classes;return c.a.createElement("div",{className:t.root},c.a.createElement(Je.a,{position:"fixed"},c.a.createElement(Xe.a,{className:t.toolbar},c.a.createElement(Ze.a,{onClick:e.onMenuClick,className:t.menuButton,color:"inherit","aria-label":"Open drawer"},c.a.createElement(at.a,null)),c.a.createElement(et.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},"React Reddit Client"),c.a.createElement("div",{className:t.grow}),c.a.createElement("div",{className:t.search},c.a.createElement("div",{className:t.searchIcon},c.a.createElement(it.a,null)),c.a.createElement(nt.a,{placeholder:"Go to subreddit",classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){"Enter"===t.key&&(window.scrollTo(0,0),e.onSubredditChange(t))}})))))}ut.whyDidYouRender=!0;var lt=Object(b.withStyles)((function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(Ae.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Ae.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(rt.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(rt.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(Ae.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),toolbar:{minHeight:"52px"}}}))(ut),bt=n(72);var st=function(e){var t=e.open,n=e.onClose;return c.a.createElement(h.d,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(h.h,{id:"alert-dialog-title"},"About"),c.a.createElement(h.f,null,c.a.createElement(h.g,{id:"alert-dialog-description"},"Personal project by Orel Kanditan ",c.a.createElement("br",null),"Made using React, Material UI and Emotion ",c.a.createElement("br",null),"See the source code on "," ",c.a.createElement("a",{href:Ce,target:"_blank",rel:"noopener noreferrer"},"GitHub"))),c.a.createElement(h.e,null,c.a.createElement(h.a,{onClick:n,color:"primary",autoFocus:!0},"Close")))};function dt(){var e=Object(u.a)(["\n  .label {\n    font-size: 1rem;\n    margin-left: 8px;\n  }\n"]);return dt=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  height: 3em;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(u.a)(["\n  margin: 0.5em;\n"]);return jt=function(){return e},e}function mt(){var e=Object(u.a)(["\n  width: 250px;\n"]);return mt=function(){return e},e}var ft=Object(l.b)(mt()),ht=Object(l.b)(jt()),pt=Object(l.b)(Ot()),vt=Object(l.b)(dt());function gt(e){var t=e.open,n=e.onOpen,c=e.onClose,a=e.onSelection,o=Object(r.useState)(!1),u=Object(i.a)(o,2),b=u[0],s=u[1],d=G(),O=Object(i.a)(d,2),j=O[0],m=O[1];return Object(l.c)(h.w,{open:t,onClose:c,onOpen:n},Object(l.c)("div",{css:ft},Object(l.c)(h.y,{variant:"h5",css:ht},"React Reddit Client"),Object(l.c)(h.i,null),Object(l.c)(h.p,null,Object(l.c)(h.q,{button:!0,onClick:function(){return a("light")}},Object(l.c)(h.r,null,Object(l.c)(bt.b,null)),Object(l.c)(h.s,{primary:"Light theme"})),Object(l.c)(h.q,{button:!0,onClick:function(){return a("dark")}},Object(l.c)(h.r,null,Object(l.c)(bt.c,null)),Object(l.c)(h.s,{primary:"Dark theme"})),Object(l.c)(h.q,{button:!0,css:pt},Object(l.c)(h.k,{css:vt,classes:{label:"label"},control:Object(l.c)(h.x,{checked:j,onChange:function(){c(),m(!j)}}),label:"Auto Expand"})),Object(l.c)(h.q,{button:!0,onClick:function(){return s(!0)}},Object(l.c)(h.r,null,Object(l.c)(bt.a,null)),Object(l.c)(h.s,{primary:"About"}))),Object(l.c)(st,{open:b,onClose:function(){return s(!1)}})))}gt.whyDidYouRender=!0;var wt=gt;function yt(e){var t=e.onSubredditChange,n=e.onSelection,a=Object(r.useState)(!1),o=Object(i.a)(a,2),u=o[0],l=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(lt,{onSubredditChange:t,onMenuClick:function(){return l(!0)}}),c.a.createElement(wt,{open:u,onSelection:function(e){l(!1),n(e)},onOpen:function(){return l(!0)},onClose:function(){return l(!1)}}))}yt.whyDidYouRender=!0;var xt=yt;function Et(){var e=Object(u.a)(["\n    ","\n    body {\n      margin: 0;\n      background: ",";\n    }\n    ","\n  "]);return Et=function(){return e},e}function kt(){var e=Object(u.a)(["\n    a {\n      color: lightblue;\n    }\n  "]);return kt=function(){return e},e}function St(){var e=Object(u.a)(["\n  body::-webkit-scrollbar {\n    width: 0.5em;\n  }\n  body::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n    box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n  }\n  body::-webkit-scrollbar-thumb {\n    background-color: #383838;\n    outline: 1px solid slategrey;\n  }\n"]);return St=function(){return e},e}function Ct(){var e=Object(u.a)(["\n  margin-top: 4.5em;\n"]);return Ct=function(){return e},e}var Tt=Object(l.b)(Ct()),Rt=Object(l.b)(St()),Nt="#181a1b",_t=localStorage.getItem("theme")||"dark";function It(){var e=Object(r.useState)("all"),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(_t),o=Object(i.a)(a,2),u=o[0],d=o[1];var j=Object(b.createMuiTheme)({palette:{primary:{main:O.a[800]},secondary:{main:O.a[300]},type:u},typography:{useNextVariants:!0}}),m=Object(l.b)(kt()),f="dark"===u?Nt:"inherit",h=Object(l.b)(Et(),Rt,f,"dark"===u&&m);return Object(l.c)(s.a,{injectFirst:!0},Object(l.c)(b.MuiThemeProvider,{theme:j},Object(l.c)(l.a,{styles:h}),Object(l.c)(A,null,Object(l.c)(xt,{onSubredditChange:function(e){c(e.target.value.trim())},onSelection:function(e){localStorage.setItem("theme",e),d(e)}}),Object(l.c)("div",{css:Tt},Object(l.c)(ze,{subreddit:n})))))}It.whyDidYouRender=!0;var Dt=It;o.a.render(c.a.createElement(Dt,null),document.getElementById("root"))}},[[5451,1,2]]]);
//# sourceMappingURL=main.29ebb736.chunk.js.map